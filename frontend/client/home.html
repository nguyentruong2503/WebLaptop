<!-- Categories -->
<section class="py-12 bg-white">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <h2 class="mb-8 text-2xl font-bold text-gray-900">Danh mục sản phẩm</h2>
    <div class="grid grid-cols-2 gap-6 md:grid-cols-4">
      <a
        href="#"
        class="p-6 text-center rounded-lg category-card bg-primary-50 hover:bg-primary-100"
        onclick="event.preventDefault()"
      >
        <div
          class="flex items-center justify-center w-16 h-16 p-4 mx-auto mb-4 bg-white rounded-full"
        >
          <i class="text-2xl fas fa-laptop text-primary-500"></i>
        </div>

        <h3 class="font-medium text-gray-900">Laptop</h3>
        <p class="mt-1 text-sm text-gray-500">100+ sản phẩm</p>
      </a>
      <a
        href="#"
        class="p-6 text-center rounded-lg category-card bg-primary-50 hover:bg-primary-100"
        onclick="event.preventDefault()"
      >
        <div
          class="flex items-center justify-center w-16 h-16 p-4 mx-auto mb-4 bg-white rounded-full"
        >
          <i class="text-2xl fas fa-keyboard text-primary-500"></i>
        </div>
        <h3 class="font-medium text-gray-900">Bàn phím</h3>
        <p class="mt-1 text-sm text-gray-500">50+ sản phẩm</p>
      </a>
      <a
        href="#"
        class="p-6 text-center rounded-lg category-card bg-primary-50 hover:bg-primary-100"
        onclick="event.preventDefault()"
      >
        <div
          class="flex items-center justify-center w-16 h-16 p-4 mx-auto mb-4 bg-white rounded-full"
        >
          <i class="text-2xl fas fa-mouse text-primary-500"></i>
        </div>
        <h3 class="font-medium text-gray-900">Chuột</h3>
        <p class="mt-1 text-sm text-gray-500">30+ sản phẩm</p>
      </a>
      <a
        href="#"
        class="p-6 text-center rounded-lg category-card bg-primary-50 hover:bg-primary-100"
        onclick="event.preventDefault()"
      >
        <div
          class="flex items-center justify-center w-16 h-16 p-4 mx-auto mb-4 bg-white rounded-full"
        >
          <i class="text-2xl fas fa-headphones text-primary-500"></i>
        </div>
        <h3 class="font-medium text-gray-900">Tai nghe</h3>
        <p class="mt-1 text-sm text-gray-500">40+ sản phẩm</p>
      </a>
    </div>
  </div>
</section>

<!-- Featured Products -->
<section class="py-12 bg-gray-50">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <div class="flex items-center justify-between mb-8">
      <h2 class="text-2xl font-bold text-gray-900" id="test">Laptop nổi bật</h2>
      <a
        href="#"
        class="font-medium text-primary-600 hover:text-primary-800"
        onclick="event.preventDefault()"
        >Xem tất cả <i class="ml-1 fas fa-arrow-right"></i
      ></a>
    </div>

    <div
      class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"
      id="laptop-list"
    ></div>
  </div>
</section>

<!-- Accessories Section -->
<section class="py-12 bg-white">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <div class="flex items-center justify-between mb-8">
      <h2 class="text-2xl font-bold text-gray-900">Phụ kiện nổi bật</h2>
      <a
        href="#"
        class="font-medium text-primary-600 hover:text-primary-800"
        onclick="event.preventDefault()"
        >Xem tất cả <i class="ml-1 fas fa-arrow-right"></i
      ></a>
    </div>

    <div
      class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"
      id="accesory-list"
    ></div>
  </div>
</section>

<!-- Brands Section -->
<section class="py-12 bg-gray-50">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <h2 class="mb-8 text-2xl font-bold text-center text-gray-900">
      Thương hiệu nổi bật
    </h2>
    <div class="grid grid-cols-2 gap-6 md:grid-cols-6">
      <div class="flex items-center justify-center p-6 bg-white rounded-lg">
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg"
          alt="Apple"
          class="h-8"
        />
      </div>
      <div class="flex items-center justify-center p-6 bg-white rounded-lg">
        <img
          src="https://img.icons8.com/?size=100&id=24666&format=png&color=000000"
          alt="Dell"
          class="h-8"
        />
      </div>
      <div class="flex items-center justify-center p-6 bg-white rounded-lg">
        <img
          src="https://img.icons8.com/?size=100&id=24665&format=png&color=000000"
          alt="HP"
          class="h-8"
        />
      </div>
      <div class="flex items-center justify-center p-6 bg-white rounded-lg">
        <img
          src="https://img.icons8.com/?size=100&id=It75JPo3qKDs&format=png&color=000000"
          alt="Asus"
          class="h-8"
        />
      </div>
      <div class="flex items-center justify-center p-6 bg-white rounded-lg">
        <img
          src="https://img.icons8.com/?size=100&id=pKl6oyq4IKpu&format=png&color=000000"
          alt="Lenovo"
          class="h-8"
        />
      </div>
      <div class="flex items-center justify-center p-6 bg-white rounded-lg">
        <img
          src="https://img.icons8.com/?size=100&id=9zVjmNkFCnhC&format=png&color=000000"
          alt="Logitech"
          class="h-8"
        />
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="py-12 bg-white">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-3">
      <div class="text-center">
        <div
          class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100"
        >
          <i class="text-2xl fas fa-truck text-primary-600"></i>
        </div>
        <h3 class="mb-2 text-lg font-bold">Miễn phí vận chuyển</h3>
        <p class="text-gray-600">
          Miễn phí vận chuyển cho đơn hàng từ 1 triệu đồng
        </p>
      </div>
      <div class="text-center">
        <div
          class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100"
        >
          <i class="text-2xl fas fa-undo-alt text-primary-600"></i>
        </div>
        <h3 class="mb-2 text-lg font-bold">Đổi trả dễ dàng</h3>
        <p class="text-gray-600">Đổi trả trong vòng 7 ngày nếu sản phẩm lỗi</p>
      </div>
      <div class="text-center">
        <div
          class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100"
        >
          <i class="text-2xl fas fa-headset text-primary-600"></i>
        </div>
        <h3 class="mb-2 text-lg font-bold">Hỗ trợ 24/7</h3>
        <p class="text-gray-600">Đội ngũ hỗ trợ luôn sẵn sàng giúp đỡ bạn</p>
      </div>
    </div>
  </div>
</section>
<!-- Banner Section -->
<section
  class="py-12 text-white bg-gradient-to-r from-primary-500 to-primary-700"
>
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <div class="text-center">
      <h2 class="mb-4 text-3xl font-bold">Giảm giá lên đến 30%</h2>
      <p class="mb-6 text-lg">
        Ưu đãi đặc biệt dành cho khách hàng mới trong tháng này
      </p>
      <a
        href="#"
        class="inline-block px-8 py-3 font-medium transition-all bg-white rounded-lg text-primary-600 hover:bg-gray-100"
        onclick="navigate(event, 'promotions')"
        >Xem ngay</a
      >
    </div>
  </div>
</section>

<!-- Categories Section -->
<section class="py-12 bg-white">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <h2 class="mb-8 text-2xl font-bold text-gray-900">Danh mục sản phẩm</h2>

    <div class="grid grid-cols-2 gap-6 md:grid-cols-4">
      <!-- Category 1 -->
      <a
        href="#"
        class="relative overflow-hidden transition-all shadow-md group rounded-xl card-hover"
        onclick="navigate(event, 'category-laptop-van-phong')"
      >
        <img
          src="https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80"
          alt="Laptop văn phòng"
          class="object-cover w-full h-40"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"
        ></div>
        <div class="absolute bottom-0 left-0 p-4">
          <h3
            class="text-lg font-bold text-white transition-all group-hover:text-primary-300"
          >
            Laptop văn phòng
          </h3>
          <p class="text-sm text-primary-200">Từ 12.990.000đ</p>
        </div>
      </a>

      <!-- Category 2 -->
      <a
        href="#"
        class="relative overflow-hidden transition-all shadow-md group rounded-xl card-hover"
        onclick="navigate(event, 'category-laptop-gaming')"
      >
        <img
          src="https://images.unsplash.com/photo-1592155931584-901ac15763e3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80"
          alt="Laptop gaming"
          class="object-cover w-full h-40"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"
        ></div>
        <div class="absolute bottom-0 left-0 p-4">
          <h3
            class="text-lg font-bold text-white transition-all group-hover:text-primary-300"
          >
            Laptop gaming
          </h3>
          <p class="text-sm text-primary-200">Từ 18.990.000đ</p>
        </div>
      </a>

      <!-- Category 3 -->
      <a
        href="#"
        class="relative overflow-hidden transition-all shadow-md group rounded-xl card-hover"
        onclick="navigate(event, 'category-laptop-do-hoa')"
      >
        <img
          src="https://images.unsplash.com/photo-1629131726692-1accd0c53ce0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80"
          alt="Laptop đồ họa"
          class="object-cover w-full h-40"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"
        ></div>
        <div class="absolute bottom-0 left-0 p-4">
          <h3
            class="text-lg font-bold text-white transition-all group-hover:text-primary-300"
          >
            Laptop đồ họa
          </h3>
          <p class="text-sm text-primary-200">Từ 25.990.000đ</p>
        </div>
      </a>

      <!-- Category 4 -->
      <a
        href="#"
        class="relative overflow-hidden transition-all shadow-md group rounded-xl card-hover"
        onclick="navigate(event, 'category-laptop-mong')"
      >
        <img
          src="https://images.unsplash.com/photo-1540932239986-30128078f3c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80"
          alt="Laptop mỏng nhẹ"
          class="object-cover w-full h-40"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"
        ></div>
        <div class="absolute bottom-0 left-0 p-4">
          <h3
            class="text-lg font-bold text-white transition-all group-hover:text-primary-300"
          >
            Laptop mỏng nhẹ
          </h3>
          <p class="text-sm text-primary-200">Từ 16.990.000đ</p>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- Testimonials -->
<section class="py-12 bg-gray-50">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <h2 class="mb-8 text-2xl font-bold text-center text-gray-900">
      Khách hàng nói gì về chúng tôi
    </h2>

    <div class="grid grid-cols-1 gap-8 md:grid-cols-3">
      <!-- Testimonial 1 -->
      <div class="p-6 bg-white shadow-md rounded-xl">
        <div class="flex items-center mb-4">
          <div class="flex-shrink-0">
            <img
              class="w-10 h-10 rounded-full"
              src="https://randomuser.me/api/portraits/women/32.jpg"
              alt="Customer"
            />
          </div>
          <div class="ml-3">
            <h3 class="font-medium text-gray-900">Nguyễn Thị Mai</h3>
            <div class="flex text-yellow-400">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-600">
          "Tôi rất hài lòng với chiếc laptop mua tại TechZone. Sản phẩm chính
          hãng, giá cả hợp lý và nhân viên tư vấn rất nhiệt tình."
        </p>
      </div>

      <!-- Testimonial 2 -->
      <div class="p-6 bg-white shadow-md rounded-xl">
        <div class="flex items-center mb-4">
          <div class="flex-shrink-0">
            <img
              class="w-10 h-10 rounded-full"
              src="https://randomuser.me/api/portraits/men/45.jpg"
              alt="Customer"
            />
          </div>
          <div class="ml-3">
            <h3 class="font-medium text-gray-900">Trần Văn Nam</h3>
            <div class="flex text-yellow-400">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-600">
          "Giao hàng nhanh, đóng gói cẩn thận. Laptop hoạt động tốt, đúng như mô
          tả. Sẽ ủng hộ cửa hàng trong những lần mua tiếp theo."
        </p>
      </div>

      <!-- Testimonial 3 -->
      <div class="p-6 bg-white shadow-md rounded-xl">
        <div class="flex items-center mb-4">
          <div class="flex-shrink-0">
            <img
              class="w-10 h-10 rounded-full"
              src="https://randomuser.me/api/portraits/women/68.jpg"
              alt="Customer"
            />
          </div>
          <div class="ml-3">
            <h3 class="font-medium text-gray-900">Lê Thị Hương</h3>
            <div class="flex text-yellow-400">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
        </div>
        <p class="text-gray-600">
          "Chính sách bảo hành rõ ràng, hỗ trợ khách hàng chu đáo. Tôi đã giới
          thiệu nhiều bạn bè đến mua hàng tại TechZone và ai cũng hài lòng."
        </p>
      </div>
    </div>
  </div>
</section>
<!-- Newsletter -->
<section class="py-12 bg-primary-50">
  <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
    <div class="max-w-2xl mx-auto text-center">
      <h2 class="mb-4 text-2xl font-bold text-gray-900">
        Đăng ký nhận bản tin
      </h2>
      <p class="mb-6 text-gray-600">
        Nhận thông báo về sản phẩm mới và khuyến mãi đặc biệt
      </p>
      <form class="flex flex-col max-w-md gap-4 mx-auto sm:flex-row">
        <input
          type="email"
          placeholder="Nhập email của bạn"
          class="flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"
        />
        <button
          type="submit"
          class="px-6 py-2 font-medium text-white transition-all rounded-lg bg-primary-600 hover:bg-primary-700"
        >
          Đăng ký
        </button>
      </form>
    </div>
  </div>
</section>

<script>
  function selectProduct(id) {
    localStorage.setItem("selectedProductId", id);
    loadPage("../client/detail_laptop.html");
  }
  function selectProduct1(id) {
    localStorage.setItem("selectedProductId", id);
    loadPage("../client/detail_accessory.html");
  }
</script>
<!-- Footer -->
<!-- load laptop -->
<script type="module">
  import { fetchWithTokenRetry } from "http://127.0.0.1:5501/frontend/js/authFetch.js";

  fetchWithTokenRetry("http://127.0.0.1:8000/api/products_client")
    .then((response) => response.json())
    .then((data) => {
      const listContainer = document.getElementById("laptop-list");

      const laptops = data.data; // Lấy mảng data từ API

      if (!Array.isArray(laptops)) {
        console.error("'data' không phải là mảng");
        return;
      }
      laptops.forEach((laptop) => {
        const product = laptop;
        console.log(product);

        const param = product.id;
        const card = `
            <div onclick="selectProduct(${param})" class="relative flex flex-col justify-between overflow-hidden bg-white border border-gray-100 rounded-lg shadow-sm product-card">
        <div class="relative">
            <img src="${
              product.img || "https://via.placeholder.com/300"
            }" alt="${product.productName}" class="object-cover w-full h-48">
            <div class="absolute px-2 py-1 text-xs font-medium text-white rounded-full top-2 right-2 bg-primary-500">Mới</div>
           
        </div>
  <div class="p-4">
    <h3 class="mb-1 font-medium text-gray-900">${product.productName}</h3>
    <div class="flex items-center mb-2">
      <div class="flex text-yellow-400">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="far fa-star"></i>
      </div>
      <span class="ml-1 text-xs text-gray-500">(42)</span>
    </div>
    <div class="flex items-center justify-between">
      <span class="font-bold text-primary-600">${Number(
        product.price
      ).toLocaleString("vi-VN")}đ</span>
    </div>
  </div>
  <div class="px-4 pb-4">
    <button class="w-full py-2 font-medium text-white transition-all rounded-lg bg-primary-600 hover:bg-primary-700">Xem chi tiết</button>
  </div>
   <!-- Nút so sánh -->
      <div class="px-4 pb-4 text-center">       
            <button onclick="event.stopPropagation(); addToCompare(${JSON.stringify(
              product
            ).replace(/"/g, "&quot;")}, 'laptop')" 
                 class="flex items-center w-full gap-2 px-6 py-3 text-blue-500 transition-colors border-2 border-blue-500 rounded-lg hover:bg-blue-50">
                <i class="fas fa-exchange-alt"></i>
                    <span>Thêm vào so sánh</span>
            </button>
              </div>
</div>
          `;

        listContainer.insertAdjacentHTML("beforeend", card);
      });
    })
    .catch((error) => {
      console.error("Lỗi khi lấy danh sách laptop:", error);
    });

  // <!-- load accessory -->

  fetchWithTokenRetry("http://127.0.0.1:8000/api/products_mouse")
    .then((response) => response.json())
    .then((data) => {
      const listContainer = document.getElementById("accesory-list");
      const laptops = data.data; // Lấy mảng data từ API

      if (!Array.isArray(laptops)) {
        console.error("'data' không phải là mảng");
        return;
      }

      laptops.forEach((laptop) => {
        const product = laptop;
        const param = product.id;

        const html = `
                       <div onclick="selectProduct1(${param})" class="relative flex flex-col justify-between overflow-hidden bg-white border border-gray-100 rounded-lg shadow-sm product-card">
        <div class="relative">
            <img src="${
              product.img || "https://via.placeholder.com/300"
            }" alt="${product.productName}" class="object-cover w-full h-48">
            <!-- Nút so sánh -->
           
        </div>
                          <div class="p-4">
                              <h3 class="mb-1 font-medium text-gray-900">${
                                product.productName
                              }</h3>
                              <div class="flex items-center mb-2">
                                  <div class="flex text-yellow-400">
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star"></i>
                                      <i class="fas fa-star-half-alt"></i>
                                  </div>
                                  <span class="ml-1 text-xs text-gray-500">(76)</span>
                              </div>
                              <div class="flex items-center justify-between">
                                  <span class="font-bold text-primary-600">${Number(
                                    product.price
                                  ).toLocaleString("vi-VN")}đ</span>
                              </div>
                          </div>
                          <div class="px-4 pb-4">
                              <button class="w-full py-2 font-medium text-white transition-all rounded-lg bg-primary-600 hover:bg-primary-700" onclick="event.preventDefault()">Xem chi tiết</button>
                          </div>
                           <!-- Nút so sánh -->
      <div class="px-4 pb-4 text-center">       
            <button onclick="event.stopPropagation(); addToCompare(${JSON.stringify(
              product
            ).replace(/"/g, "&quot;")}, 'accessory')" 
                 class="flex items-center w-full gap-2 px-6 py-3 text-blue-500 transition-colors border-2 border-blue-500 rounded-lg hover:bg-blue-50">
                <i class="fas fa-exchange-alt"></i>
                    <span>Thêm vào so sánh</span>
            </button>
              </div>
                      </div>
                  `;

        listContainer.insertAdjacentHTML("beforeend", html);
      });
    })
    .catch((error) => {
      console.error("Lỗi khi lấy danh sách laptop:", error);
    });
</script>
<!--  -->
